# Version 0.3.0

## New Features

### HTML Editor
- HTML editor forms now support adding local images using relative paths (e.g., `assets/games_assets/my_game/_core/images/icon.webp`).

### Template Validation
- Custom Vue Components are now validated at registration time. Includes tag mismatch analysis to help find mismatched HTML tags.

### Character API
- **Breaking:** `character.getStat(name)` now returns a number directly instead of a reactive ref. If you were using `character.getStat("health").value`, change it to `character.getStat("health")`.
- Added `character.getStatRef(name)` for when you need the reactive ComputedRef (e.g., for `watch()`)

### Inventory API
- **Breaking:** `inventory.getCurrencyAmount(id)` renamed to `inventory.getItemQuantity(id)` 

### Data API
- `game.getData(path, original?)` now returns a deep copy of the data by default, making it safe to modify without affecting the source. Pass `true` as the second parameter to get the original data for better performance (read-only).

### Random Pools
- Added `game.drawFromPool(entry, settings?)` for weighted random selection using editor-defined pool entries with filters, entity groups, and multiple selection modes.
- Added `game.drawFromCollection(collection, settings?)` for simple weighted draws from any array or Map without defining pool templates.
- For more details see 'Random Pools' documentation.

### Constant Properties
- Properties can now be marked as **constant** (`is_constant: true`) in the editor.
- Constant properties cannot be modified at runtime and are excluded from save files.
- Use for game constants that modders can override (e.g., base stats, multipliers, config values).

### Game Events
- `room_enter_before` and `room_enter_after` events now receive `dungeonId` as a second parameter.

### Localhost Development
- Added standalone development server (`dev-server.cjs`) for running the engine in localhost mode without Electron.
- Run `npm run dev-server` to start the data API server, then `npm run start` for the Vite dev server.

### Docs
- Added Dungeons API documentation.
- Updated exported components documentation with grouped categories and detailed prop descriptions.

### UI
- Improved Character Sheet UI with flexible stat groups layout and resource bars for resource-type stats.

### Bug Fixes
- Fixed choices not appearing for text-type dungeons in scene mode.
- Plugin array data is now converted to Map format in the data registry, consistent with other data types. Use `getData("path").get(id)` to access items.
- Fixed resource values not clamping to new max when a status is removed and `can_overflow` is false.
- Fixed plugin `schema[]` fields showing numeric indexes (0, 1, 2) instead of property IDs as field labels.
- Fixed `fromFileTypeAnd` and `fromFileTypeOr` not working for plugin-generated forms.
- Fixed file search not matching paths with Windows-style backslashes.